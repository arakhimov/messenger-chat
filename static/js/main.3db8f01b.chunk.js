(this["webpackJsonpreact-messenger"]=this["webpackJsonpreact-messenger"]||[]).push([[0],{22:function(e,t,a){e.exports=a(42)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var i=a(0),o=a.n(i),r=a(18),s=a.n(r),n=(a(27),a(3)),m=a(4),d=a(6),l=a(5),u=a(21),c=(a(28),[{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",name:"\u0410\u0440\u0445\u044b\u0437",id:"0001",user:"piligrim",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",name:"\u0427\u0435\u043b\u044f\u0431\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",id:"0002",user:"ryoka",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",name:"\u0418\u0432\u0430\u043d\u043e\u0432\u043e",id:"0003",user:"piligrim",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",name:"\u041a\u0430\u043c\u0447\u0430\u0442\u043a\u0430",id:"0004",user:"ryoka",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",name:"\u0425\u043e\u043b\u043c\u043e\u0433\u043e\u0440\u0441\u043a\u0438\u0439 \u0440\u0430\u0439\u043e\u043d",id:"0005",user:"piligrim",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",name:"\u0411\u0430\u0439\u043a\u0430\u043b",id:"0006",user:"ryoka",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/khrebet-nurgush.jpg",name:"\u041d\u0443\u0440\u0433\u0443\u0448",id:"0007",user:"piligrim",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/tulinovka.jpg",name:"\u0422\u0443\u043b\u0438\u043d\u043e\u0432\u043a\u0430",id:"0008",user:"ryoka",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/zheltukhin-island.jpg",name:"\u041e\u0441\u0442\u0440\u043e\u0432 \u0416\u0435\u043b\u0442\u0443\u0445\u0438\u043d\u0430",id:"0009",user:"piligrim",date:0,lastMessageText:""},{urlImage:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/vladivostok.jpg",name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",id:"0010",user:"ryoka",date:0,lastMessageText:""},{urlImage:"https://img.freepik.com/free-photo/_198169-183.jpg?size=338&ext=jpg",name:"One message",id:"0011",user:"piligrim",date:0,lastMessageText:""},{urlImage:"https://img.freepik.com/free-photo/_24972-737.jpg?size=626&ext=jpg",name:"Empty",id:"0012",user:"ryoka",date:0,lastMessageText:""}]),g=new Date,p=new Date(2019,0,1),h={"0001":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0002":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0003":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0004":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0005":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0006":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0007":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0008":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0009":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0010":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime(),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"ryoka",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"},{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0011":{users:[{login:"piligrim",avatarUrl:"https://img.freepik.com/free-photo/_23-2147868989.jpg?size=626&ext=jpg"},{login:"ryoka",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}],messages:[{date:g.getTime()+Math.floor(Math.random()*(p.getTime()-g.getTime())),author:"piligrim",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}]},"0012":{users:[],messages:[]}},f=(a(29),a(30),/[a-z]{3}\s\d{2}\s\d{4}\s\d{2}:\d{2}/i),v=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.props.history.push("/middle.react.praktikum.yandex/chat/".concat(this.props.chat.id)),this.props.handlerChat(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.chat,i=t.idActiveChat;return o.a.createElement("div",{onClick:function(){return e.handleClick(a.id)},className:i===a.id?"chatListItem chatListItem_active":"chatListItem"},o.a.createElement("div",{className:"chatListItem__image-wrapper"},o.a.createElement("img",{src:a.urlImage,alt:a.name,className:"chatListItem__image"})),o.a.createElement("div",{className:"chatListItem__content-wrapper"},o.a.createElement("div",{className:"chatListItem__content-header"},o.a.createElement("span",{className:"chatListItem__name"},a.name),o.a.createElement("time",{className:"chatListItem__date"},"".concat(new Date(a.date)).match(f))),o.a.createElement("div",{className:"chatListItem__content"},o.a.createElement("span",{className:"chatListItem__author"},a.user,":"),o.a.createElement("p",{className:"chatListItem__text"},a.lastMessageText))))}}]),a}(i.Component),x=function(e){return o.a.createElement("div",{className:"chatList"},e.chats.map((function(t){return o.a.createElement(v,Object.assign({},e,{chat:t,key:t.id,handlerChat:e.handleChatActive,idActiveChat:e.idActiveChat}))})))},k=(a(31),a(32),/\d{2}:\d{2}/i),T=function(e){var t=e.message;return o.a.createElement("div",{className:"messageItem"},o.a.createElement("div",{className:"messageItem__text-wrapper"},o.a.createElement("span",{className:"messageItem__author"},t.author),o.a.createElement("p",{className:"messageItem__text"},t.text)),o.a.createElement("p",{className:"messageItem__date"},"".concat(new Date(t.date)).match(k)))},b=(a(33),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={newMessage:""},e.handleChange=function(t){e.setState({newMessage:t.target.value})},e.handleKeyDown=function(t){13!==t.keyCode||t.shiftKey||(t.preventDefault(),e.props.addMessage(e.state.newMessage),e.setState({newMessage:""}))},e.handleSubmit=function(t){0!==e.state.newMessage.length&&(t.preventDefault(),e.props.addMessage(e.state.newMessage),e.setState({newMessage:""}))},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{className:"formAddMessage"},o.a.createElement("textarea",{value:this.state.newMessage,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"formAddMessage__input",required:!0}),o.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"formAddMessage__button"},"Add",o.a.createElement("br",null),"message"))}}]),a}(i.Component)),y=/.*([A-Z][a-z]{2})\s(\d{2})\s(\d{4}).*/,_=function(e){var t=e.date;return t===e.currentDate?null:o.a.createElement("p",{className:"chat-screen__date"},"".concat(new Date(t)).replace(y,"$2 $1 $3"))},j=function(e){var t,a=e.message,i=e.currentAuthor,r=e.users;return a.author===i?null:o.a.createElement("img",{src:null===r||void 0===r||null===(t=r.find((function(e){return e.login===a.author})))||void 0===t?void 0:t.avatarUrl,alt:"",className:"message__author-image"})},M=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).chatState={currentDate:0,author:""},e.setMessage=function(t,a){e.chatState={author:t,currentDate:a}},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.chatItem,i=t.addMessage,r=a.messages,s=a.users;return o.a.createElement("div",{className:"chat-screen"},o.a.createElement("div",null,null===r||void 0===r?void 0:r.map((function(t,a){return o.a.createElement("div",{key:a.toString()},o.a.createElement(_,{date:t.date,currentDate:e.chatState.currentDate}),(e.chatState.currentDate=t.date)&&null,o.a.createElement("div",{className:"message__wrapper"},o.a.createElement(j,{message:t,currentAuthor:e.chatState.author,users:s}),(e.chatState.author=t.author)&&null,o.a.createElement(T,{message:t})))})),this.setMessage("",0)),0!==r.length&&o.a.createElement(b,{addMessage:i}))}}]),a}(i.Component),L=(a(34),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={login:"",password:""},e.handleChange=function(t){"login"===t.target.name&&e.setState({login:t.target.value}),"password"===t.target.name&&e.setState({password:t.target.value})},e.handleSubmit=function(t){0!==e.state.login.length&&0!==e.state.password.length&&(t.preventDefault(),e.props.history.push("/middle.react.praktikum.yandex/chat/"))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.login,a=e.password;return o.a.createElement("form",{className:"FormAutorization"},o.a.createElement("input",{name:"login",value:t,onChange:this.handleChange,type:"text",placeholder:"\u043b\u043e\u0433\u0438\u043d",autoComplete:"off",className:"FormAutorization__input-login",required:!0}),o.a.createElement("input",{name:"password",value:a,onChange:this.handleChange,type:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",className:"FormAutorization__input-password",required:!0}),o.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"FormAutorization__button"},"\u0412\u043e\u0439\u0442\u0438"))}}]),a}(i.Component)),E=(a(35),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={login:"",password:""},e.handleChange=function(t){"login"===t.target.name&&e.setState({login:t.target.value}),"password"===t.target.name&&e.setState({password:t.target.value})},e.handleSubmit=function(t){0!==e.state.login.length&&0!==e.state.password.length&&(t.preventDefault(),e.props.history.push("/middle.react.praktikum.yandex/chat/"),e.props.changeUser(e.state.login))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.login,a=e.password;return o.a.createElement("form",{className:"FormAutorization"},o.a.createElement("input",{name:"login",value:t,onChange:this.handleChange,type:"text",placeholder:"\u043b\u043e\u0433\u0438\u043d",autoComplete:"off",className:"FormAutorization__input-login",required:!0}),o.a.createElement("input",{name:"password",value:a,onChange:this.handleChange,type:"password",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",className:"FormAutorization__input-password",required:!0}),o.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"FormAutorization__button"},"\u0412\u043e\u0439\u0442\u0438"))}}]),a}(i.Component)),q=(a(36),function(e){var t=e.history;return o.a.createElement("div",{className:"Intro"},o.a.createElement("h1",{className:"Intro__header"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),o.a.createElement("button",{onClick:function(e){t.push("/middle.react.praktikum.yandex/reg"),console.log(e.target)},className:"Intro__button Intro__button_registration"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("button",{onClick:function(e){t.push("/middle.react.praktikum.yandex/auth"),console.log(e.target)},className:"Intro__button Intro__button_authorization"},"\u0412\u0445\u043e\u0434"))}),w=a(9);for(var C in h){var N;null===(N=h[C])||void 0===N||N.messages.sort((function(e,t){return t.date-e.date}))}var I,z=Object(u.a)(c);try{for(z.s();!(I=z.n()).done;){var O,A,U,S,D=I.value;D.date=null===(O=h[D.id])||void 0===O||null===(A=O.messages[0])||void 0===A?void 0:A.date,D.lastMessageText=null===(U=h[D.id])||void 0===U||null===(S=U.messages[0])||void 0===S?void 0:S.text}}catch(B){z.e(B)}finally{z.f()}c.sort((function(e,t){return t.date-e.date}));var F=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={messagesChat:/\d{4}/.test(e.props.location.pathname)?h[e.props.location.pathname.replace(/.*(\d{4}).*/,"$1")]:{users:[],messages:[]},idActiveChat:"",authorOwnProperties:{login:"",avatarUrl:"https://img.freepik.com/free-photo/3d_1048-6284.jpg?size=338&ext=jpg"}},e.handleChatActive=function(t){e.setState({idActiveChat:t,messagesChat:{users:h[t].users,messages:h[t].messages}})},e.handleChangeUser=function(t){console.log(t),e.setState((function(e){return{authorOwnProperties:{login:t,avatarUrl:e.authorOwnProperties.avatarUrl}}}))},e.addMessage=function(t){var a=new Date;e.setState((function(i){return{messagesChat:{users:i.messagesChat.users.concat(e.state.authorOwnProperties),messages:i.messagesChat.messages.concat({date:a.getTime(),author:e.state.authorOwnProperties.login,text:t})}}}))},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"messanger"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",{className:"header__title"},"messenger-chat"),o.a.createElement("h2",{className:"header__subtitle"},this.state.authorOwnProperties.login)),o.a.createElement("main",{className:"main"},o.a.createElement(w.a,{exact:!0,path:"/middle.react.praktikum.yandex/"},o.a.createElement(q,this.props)),o.a.createElement(w.a,{path:"/middle.react.praktikum.yandex/reg"},o.a.createElement(E,Object.assign({},this.props,{changeUser:this.handleChangeUser}))),o.a.createElement(w.a,{path:"/middle.react.praktikum.yandex/auth"},o.a.createElement(L,this.props)),o.a.createElement(w.a,{path:"/middle.react.praktikum.yandex/chat"},o.a.createElement(x,Object.assign({},this.props,{chats:c,idActiveChat:this.state.idActiveChat,handleChatActive:this.handleChatActive})),o.a.createElement(w.a,{path:this.props.location.pathname},o.a.createElement(M,{chatItem:this.state.messagesChat,addMessage:this.addMessage})))))}}]),a}(i.Component),P=a(13),$=Object(w.e)(F),K=function(){return o.a.createElement(P.a,null,o.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.3db8f01b.chunk.js.map